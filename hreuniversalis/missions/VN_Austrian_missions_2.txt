#Austrian missions
#by ShyGuy13

vn_hab_missions_slot_1 = {
    slot = 6
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes
	
	vn_hab_overcome_bruderzwist = {
		position = 1
		icon = mission_the_austrian_succession
        required_missions = { }
		trigger = {
            has_reform_level = 2
            stability = 2
			if = {
				limit = { has_government_attribute = heir }
				has_heir = yes
				heir_claim = 90
				heir_age = 15
			}
			NOT = { has_spawned_rebels = pretender_rebels }
		}
		effect = {
			add_legitimacy = 10
            add_country_modifier = {
				name = hab_overcome_bruderzwist_mission
				duration = 9125
			}
		}
	}
	vn_hab_claim_to_rule = {
        position = 2
		icon = the_spanish_succession
        required_missions = { vn_hab_overcome_bruderzwist }
		trigger = {
            legitimacy_equivalent = 95
            monthly_dip = 10
			total_development = 200
            is_at_war = no
            has_any_disaster = no
		}
		effect = {
            country_event = { id = vn_missions.36 }
		}
	}
	vn_hab_conquer_tirol = {
        position = 3
		icon = claim_tirol
        required_missions = { vn_hab_conquer_carinthia }
        provinces_to_highlight = {
            OR = {
                area = tirol_area
                area = lienz_area
                area = trent_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            tirol_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            lienz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            trent_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_country_modifier = {
                name = hab_conquer_tirol_mission
                duration = 9125
            }
		}
	}
	vn_hab_royal_alliances = {
        position = 4
		icon = mission_alliances
		required_missions = { vn_hab_conquer_tirol }
		trigger = {
			if = {
                limit = { government = monarchy }
                num_of_royal_marriages = 5
			}
			else = {
				num_of_allies = 5
			}
            calc_true_if = {
                amount = 3
                all_ally = {
                    has_opinion = {
                        who = ROOT
                        value = 150
                    }
                }
            }
		}
		effect = {
            breisgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
			sundgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_royal_alliances_mission
                duration = 9125
            }
		}
    }
	vn_hab_conquer_breisgau = {
        position = 5
		icon = ansbach_succession
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            OR = {
                area = breisgau_area
                area = sundgau_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				OR = {
					area = breisgau_area
					area = sundgau_area
				}
			}
		}
        effect = {
            thurgau_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            stgallen_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            waldstatte_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
	}
	vn_hab_conquer_aargau = {
		position = 7
		icon = secure_our_rule
        required_missions = { vn_hab_conquer_breisgau }
        provinces_to_highlight = {
            OR = {
                area = thurgau_area
                area = stgallen_area
                area = waldstatte_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				OR = {
                    area = thurgau_area
                    area = stgallen_area
                    area = waldstatte_area
                }
			}
		}
        effect = {
			swisswest_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_bern = {
		position = 8
		icon = fortress_switzerland
        required_missions = { vn_hab_conquer_aargau }
        provinces_to_highlight = {
            region = swisswest_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
				value = 12
				region = swisswest_region
			}
		}
        effect = {
			add_prestige = 20
            add_country_modifier = {
                name = hab_conquer_bern_mission
                duration = 9125
            }
        }
	}
	vn_hab_hungarian_restriction = {
        position = 10
		icon = invest_in_the_provinces
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            owned_by = ROOT
        }
		trigger = {
            
		}
		effect = {
			
		}
	}
	vn_hab_multi_ethnic_state = {
        position = 11
		icon = mission_noble_council
        required_missions = { vn_hab_hungarian_restriction }
		trigger = {
			num_accepted_cultures = 7
			NOT = { has_spawned_rebels = nationalist_rebels }
		}
        effect = {
            add_country_modifier = {
                name = hab_multi_ethnic_state_mission
                duration = 9125
            }
        }
	}
	vn_hab_eastern_question = {
        position = 12
		icon = shift_the_balance
        required_missions = {  }
		trigger = {
            exists = TUR
			any_ally = {
				is_rival = TUR
			}
		}
        effect = {
            
        }
    }
}

vn_hab_missions_slot_2 = {
    slot = 7
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
	has_country_shield = yes

	vn_hab_conquer_carinthia = {
        position = 2
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            area = carinthia_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carinthia_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
			tirol_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            lienz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            trent_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
			salzburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
			}
		}
	}
	vn_hab_conquer_salzburg = {
		position = 3
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_carinthia }
        provinces_to_highlight = {
            area = salzburg_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            salzburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }			
		}
		effect = {
			add_years_of_income = 0.5
            salzburg_area = {
                add_province_modifier = {
                    name = hab_conquer_salzburg_mission
                    duration = 9125
                }
            }
		}
    }
    vn_hab_conquer_alsace = {
        position = 5
		icon = mission_unite_home_region
        required_missions = { vn_hab_royal_alliances }
        provinces_to_highlight = {
            OR = {
                area = hagenau_area
                area = nordgau_area
                area = strassburg_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            hagenau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            nordgau_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            strassburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            hagenau_area = {
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
            nordgau_area = {
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
            strassburg_area = {
                add_province_modifier = {
                    name = hab_conquer_alsace_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_foothold_in_bavaria = {
        position = 6
		icon = mission_landsknecht_soldier
        required_missions = { vn_hab_conquer_alsace }
        provinces_to_highlight = {
            region = bavaria_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bavaria_region = {
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            if = {
                limit = {
                    exists = BAV
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    BAV = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BAV
                }
            }
            else = {
                bavaria_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_bavaria = {
        position = 7
		icon = duchy_of_bavaria
        required_missions = { vn_hab_foothold_in_bavaria }
        provinces_to_highlight = {
            region = bavaria_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            bavaria_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_dip_power = 50
            add_country_modifier = {
                name = hab_conquer_bavaria_mission
                duration = 9125
            }
		}
    }
    vn_hab_fortify_austria = {
        position = 8
        icon = alpine_defenses
        required_missions = { }
		trigger = {
            capital_scope = {
                has_fort_15th_trigger = yes
            }
            custom_trigger_tooltip = {
				tooltip = vn_nrm_safeguard_borders.tt
				num_of_owned_provinces_with = {
					value = 3
					any_neighbor_province = {
						NOT = { owned_by = ROOT }
					}
					has_fort_trigger = yes
				}
			}
		}
        effect = {
            if = {
                limit = {
                    exists = HUN
                    is_subject = no
                    government = monarchy
                    religion_group = christian
                    HUN = {
                        is_free_or_tributary_trigger = yes
                        government = monarchy
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = HUN
                }
            }
            else = {
                transdanubia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                alfold_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                slovakia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                danubia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
    }
    vn_hab_conquer_hungary = {
        position = 9
		icon = the_hungarian_succession
        required_missions = { vn_hab_fortify_austria }
        provinces_to_highlight = {
            OR = {
                region = transdanubia_region
                region = alfold_region
                region = slovakia_region
                region = danubia_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            transdanubia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            alfold_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            slovakia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            danubia_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            transylvania_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_hungary_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_transylvania = {
        position = 10
		icon = invest_in_the_provinces
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            region = transylvania_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 14
                region = transylvania_region
            }
		}
        effect = {
            wallachia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_wallachia = {
        position = 11
		icon = mission_kingdom
        required_missions = { vn_hab_conquer_transylvania vn_hab_hungarian_restriction }
        provinces_to_highlight = {
            region = wallachia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 14
                region = wallachia_region
            }
		}
        effect = {
            wallachia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_hungary_mission
                duration = 9125
            }
        }
    }
    vn_hab_conquer_serbia = {
        position = 12
		icon = fortress_of_belgrade
        required_missions = { vn_hab_conquer_bosnia vn_hab_conquer_transylvania }
        provinces_to_highlight = {
            OR = {
                region = serbia_region
                region = rashkan_region
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_provinces_owned_or_owned_by_non_sovereign_subjects_with = {
                value = 16
                OR = {
                    region = serbia_region
                    region = rashkan_region
                }
            }
		}
        effect = {
            serbia_region = {
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
            rashkan_region = {
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_humiliate_the_turks = {
        position = 13
		icon = mission_ottoman_diplomacy
        required_missions = { vn_hab_conquer_serbia vn_hab_eastern_question }
		provinces_to_highlight = {
            owner = {
                NOT = { tag = ROOT }
                primary_culture = turkish
            }
        }
        trigger = {
            any_country = {
                primary_culture = turkish
                humiliated_by = ROOT
            }
		}
        effect = {
            add_war_exhaustion = -2
            add_country_modifier = {
                name = hab_humiliate_the_turks_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_3 = {
    slot = 8
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes
    
    vn_hab_conquer_styria = {
        position = 1
		icon = glory_to_von_habsburg
        required_missions = { }
        provinces_to_highlight = {
            OR = {
                area = styria_area
                area = murmark_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			styria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            murmark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
			carinthia_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            linz_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_styria_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_linz = {
        position = 2
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_styria }
        provinces_to_highlight = {
            area = linz_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			linz_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            carniola_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            sannmark_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_carniola = {
        position = 3
		icon = mission_unite_home_region
        required_missions = { vn_hab_conquer_linz }
        provinces_to_highlight = {
            OR = {
                area = carniola_area
                area = sannmark_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			carniola_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            sannmark_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            istria_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
		}
    }
    vn_hab_conquer_istria = {
        position = 4
		icon = capture_adriatic_ports
        required_missions = { vn_hab_conquer_carniola }
        provinces_to_highlight = {
            area = istria_area
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
			istria_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
		effect = {
            add_navy_tradition = 10
			954 = {
                add_unit_construction = {
                    type = galley
                    cost = 0
                    speed = 0.5
                    amount = 5
                }
                add_province_modifier = {
                    name = hab_conquer_istria_mission
                    duration = -1
                }
            }
		}
    }
    vn_hab_inheritage_of_burgundy = {
        position = 5
		icon = mission_monarch_in_throne_room
        required_missions = { }
		trigger = {
            if = {
                limit = { has_dlc = "Emperor" }
                OR = {
                    custom_trigger_tooltip = {
                        tooltip = vn_hab_inheritage_of_burgundy
                        BUR = {
                            exists = yes
                            has_country_flag = bur_crisis_has_happened
                        }
                    }
                    is_year = 1500
                }
            }
            else = {
                is_year = 1500
                total_own_and_non_tributary_subject_development = BUR
            }
            is_subject = no
			is_at_war = no
		}
		effect = {
            add_prestige = 15
			if = {
                limit = {
                    exists = BUR
                    valid_for_personal_unions_trigger = yes
                    BUR = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BUR
                }
            }
            else = {
                burgundy_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
		}
    }
    vn_hab_conquer_burgundy = {
        position = 6
		icon = mission_rb_repatriate_burgundy
        required_missions = { vn_hab_inheritage_of_burgundy vn_hab_conquer_alsace }
        provinces_to_highlight = {
            region = burgundy_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            burgundy_region = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            antwerp_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            brabant_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            luxemburg_area = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_conquer_burgundy_mission_mission
                duration = 9125
            }
        }
    }
    vn_hab_spanish_union = {
        position = 7
        icon = king_of_aragon
        required_missions = { vn_hab_conquer_burgundy }
        trigger = {
            OR = {
                NOT = { exists = FRA }
                is_rival = FRA
            }
            custom_trigger_tooltip = {
                tooltip = vn_hab_spanish_union.tt
                OR = {
                    any_ally = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                    any_subject_country = {
                        capital_scope = {
                            superregion = iberia_superregion
                        }
                        total_development = 250
                    }
                }
            }
        }
        effect = {
            add_mil_power = 50
            add_army_tradition = 10
            add_country_modifier = {
                name = hab_spanish_union_mission
                duration = 9125
            }
        }
    }
    vn_hab_challenge_france = {
        position = 8
		icon = centralize_france
        required_missions = { vn_hab_spanish_union }
		trigger = {
			calc_true_if = {
				OR = {
					french_superregion = {
                        type = all
                        controlled_by = ROOT
                    }
				}
				amount = 75
			}
		}
		effect = {
            create_general = {
                tradition = 75
            }
            french_superregion = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            add_country_modifier = {
                name = hab_challenge_france_mission
                duration = 9125
            }
		}
    }
    vn_hab_conquer_croatia = {
        position = 10
		icon = renaissance_city
        required_missions = { vn_hab_conquer_hungary }
        provinces_to_highlight = {
            OR = {
                region = croatia_region
                area = senj_area
                area = dalmatia_area
                area = split_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_owned_provinces_with = {
                value = 24
                OR = {
                    region = croatia_region
                    area = senj_area
                    area = dalmatia_area
                    area = split_area
                }
            }
		}
        effect = {
            bosnia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
        }
    }
    vn_hab_conquer_bosnia = {
        position = 11
		icon = mission_soldiers_in_line
        required_missions = { vn_hab_conquer_croatia }
        provinces_to_highlight = {
            region = bosnia_region
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            num_of_owned_provinces_with = {
                value = 16
                region = bosnia_region
            }
		}
        effect = {
            serbia_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            rashkan_region = {
                limit = {
                    NOT = { is_core = ROOT }
                    NOT = { is_permanent_claim = ROOT }
                }
                add_permanent_claim = ROOT
            }
            bosnia_region = {
                add_province_modifier = {
                    name = hab_conquer_serbia_mission
                    duration = 9125
                }
            }
        }
    }
    vn_hab_reorganize_alliances = {
        position = 12
        icon = a_place_among_the_great_powers
        required_missions = { }
        trigger = {
            if = {
                limit = { has_dlc = "Rights of Man" }
                is_great_power = yes
                any_ally = {
                    is_great_power = yes
                }
                any_rival_country = {
                    is_great_power = yes
                }
            }
            else = {
                total_development = 500
                any_ally = {
                    total_development = 500
                }
                any_rival_country = {
                    total_development = 500
                }
            }
        }
        effect = {

        }
    }
    vn_hab_imperial_army = {
        position = 13
		icon = professional_army
        required_missions = { vn_hab_reorganize_alliances }
		trigger = {
            if = {
                limit = { has_dlc = "Cradle of Civilization" }
                army_professionalism = 0.25
            }
            num_of_generals = 3
            army_size = 75
            army_size_percentage = 0.75
            num_of_owned_provinces_with = {
                value = 10
                has_manpower_building_trigger = yes
            }  
		}
        effect = {
            add_army_tradition = 20
            add_country_modifier = {
                name = hab_imperial_army_mission
                duration = 9125
            }
        }
    }
    vn_hab_crush_the_revolution = {
        position = 14
		icon = crush_the_revolution
        required_missions = { vn_hab_imperial_army }
		trigger = {
            is_in_war = {
                attacker_leader = ROOT
                casus_belli = cb_crush_the_revolution
                war_score = 75
            }
		}
        effect = {
            add_stability_or_adm_power = yes
            add_country_modifier = {
                name = hab_crush_the_revolution_mission
                duration = 9125
            }
        }
    }
}

vn_hab_missions_slot_4 = {
    slot = 9
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_join_the_inquisition = {
        position = 1
		icon = support_the_orders
        required_missions = { }
		trigger = {
            num_of_owned_provinces_with = {
				value = 3
				area = wien_area
				has_tax_building_trigger = yes
            }
            num_of_owned_provinces_with = {
				value = 3
				area = ostmarch_area
				has_tax_building_trigger = yes
            }
            num_of_owned_provinces_with = {
				value = 3
				area = raabs_area
				has_tax_building_trigger = yes
			}
		}
		effect = {
            reduce_estate_church_loyalty_effect = yes
            add_country_modifier = {
                name = hab_join_the_inquisition_mission
                duration = 9125
            }
		}
    }
    vn_hab_survive_reformation = {
        position = 2
		icon = wars_of_religion
        required_missions = { vn_hab_join_the_inquisition }
		trigger = {
            custom_trigger_tooltip = {
                tooltip = vn_hab_survive_reformation.tt
                OR = {
                    has_country_flag = had_religious_turmoil
                    current_age = age_of_absolutism
                    current_age = age_of_revolutions
                    current_age = age_of_ideology
                }
            }
		}
		effect = {
            country_event = { id = vn_missions.35 }
		}
    }
    vn_hab_join_the_counterreformation = {
        position = 3
		icon = mission_hands_praying
        required_missions = { vn_hab_survive_reformation }
		trigger = {
            OR = {
                AND = {
                    full_idea_group = humanist_ideas
                    theologian = 1
                }
                AND = {
                    full_idea_group = religious_ideas
                    inquisitor = 1
                }
                AND = {
                    religious_unity = 1
                    stability = 2
                }
            }
		}
		effect = {
			
		}
    }
    vn_hab_united_in_faith = {
        position = 4
		icon = shield_of_christendom
        required_missions = { vn_hab_join_the_counterreformation vn_hab_establish_reichstag }
        provinces_to_highlight = {
            owner = {
                is_part_of_hre = yes
                NOT = { religion = ROOT }
            }
        }
		trigger = {
            is_emperor = yes
            NOT = {
                calc_true_if = {
                    amount = 50
                    all_country = {
                        is_part_of_hre = yes
                        religion = heretic
                    }
                }
            }
		}
		effect = {
			
		}
    }
    vn_hab_eternal_empire = {
        position = 5
		icon = all_bases_covered
        required_missions = { vn_hab_united_in_faith }
        trigger = {
            is_emperor = yes
            OR = {
                hre_reform_passed = emperor_erbkaisertum
                hre_reform_passed = erbkaisertum
            }
            NOT = {
                any_country = {
                    is_part_of_hre = yes
                    has_opinion = {
                        who = ROOT
                        value = 0
                    }
                }
            }
		}
        effect = {
            
        }
    }
    vn_hab_aeiou = {
        position = 6
		icon = a.e.i.o.u.
        required_missions = { vn_hab_eternal_empire }
		trigger = {
            tag = EAH
            NOT = {
                any_owned_province = {
                    nationalism = 1
                    unrest = 1
                    devastation = 1
                    NOT = { controlled_by = ROOT }
                }
            }
		}
        effect = {
            add_adm_power = 100
            add_dip_power = 100
            add_mil_power = 100
            add_country_modifier = {
                name = hab_aeiou_mission
                duration = -1
            }
        }
    }
    vn_hab_conquer_belgium = {
        position = 7
		icon = mission_spanish_netherlands
        required_missions = { vn_hab_conquer_burgundy }
        provinces_to_highlight = {
            OR = {
                area = antwerp_area
                area = brabant_area
                area = luxemburg_area
            }
            NOT = { country_or_non_sovereign_subject_holds = ROOT }
        }
		trigger = {
            antwerp_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            brabant_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
            luxemburg_area = {
                type = all
                country_or_non_sovereign_subject_holds = ROOT
            }
		}
        effect = {
            
        }
    }
    vn_hab_josephinism = {
        position = 13
		icon = imperial_ascendany
        required_missions = { }
		trigger = {
            government = monarchy
            legitimacy_equivalent = 100
            absolutism = 50
            has_institution = enlightenment
            custom_trigger_tooltip = {
                tooltip = vn_hab_josephinism.tt
                has_country_flag = vn_hab_enlightened_reforms_flag
            }
		}
        effect = {
            add_prestige = 15
            add_absolutism = 5
            add_country_modifier = {
                name = hab_josephinism_mission
                duration = -1
            }
        }
    }
}

vn_hab_missions_slot_5 = {
    slot = 10
    generic = no
    ai = yes
    potential = {
        OR = {
            tag = HAB
            tag = EAH
        }
		NOT = { map_setup = map_setup_random }
	}
    has_country_shield = yes

    vn_hab_imperial_ambition = {
        position = 1
        icon = spread_the_von_wettins
        required_missions = { }
        trigger = {
            
        }
        effect = {
            add_country_modifier = {
                name = hab_imperial_ambition_mission
                duration = 9125
            }
        }
    }
    vn_hab_establish_reichstag = {
        position = 3
		icon = the_imperial_border
        required_missions = { vn_hab_imperial_ambition }
        trigger = {
            is_emperor = yes
			OR = {
                hre_reform_passed = emperor_chrysobull
                hre_reform_passed = chrysobull
            }
		}
        effect = {
            if = {
                limit = {
                    exists = BOH
                    valid_for_personal_unions_trigger = yes
                    BOH = {
                        valid_for_personal_unions_trigger = yes
                    }
                }
                add_casus_belli = {
                    type = cb_fabricated_claims
                    months = 300
                    target = BOH
                }
            }
            else = {
                bohemia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                moravia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
            add_country_modifier = {
                name = hab_establish_reichstag_mission
                duration = 9125
            }
        }
        vn_hab_conquer_bohemia = {
            position = 4
            icon = bohemian_borderlands
            required_missions = { vn_hab_establish_reichstag }
            provinces_to_highlight = {
                OR = {
                    region = bohemia_region
                    region = moravia_region
                }
                NOT = { country_or_non_sovereign_subject_holds = ROOT }
            }
            trigger = {
                bohemia_region = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOt
                }
                moravia_region = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOt
                }
            }
            effect = {
                silesia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
        vn_hab_conquer_silesia = {
            position = 5
            icon = take_silesia
            required_missions = { vn_hab_conquer_bohemia }
            provinces_to_highlight = {
                region = silesia_region
                NOT = { country_or_non_sovereign_subject_holds = ROOT }
            }
            trigger = {
                silesia_region = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
            }
            effect = {
                halicia_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                krakow_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sacz_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                sandomierz_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
        vn_hab_conquer_krakow = {
            position = 6
            icon = mission_unite_home_region
            required_missions = { vn_hab_conquer_silesia }
            provinces_to_highlight = {
                OR = {
                    region = halicia_region
                    area = krakow_area
                    area = sacz_area
                    area = sandomierz_area
                }
                NOT = { country_or_non_sovereign_subject_holds = ROOT }
            }
            trigger = {
                halicia_region = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                krakow_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                sacz_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                sandomierz_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
            }
            effect = {
                radom_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                lublin_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                warsaw_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
                nur_area = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
        vn_hab_conquer_warsaw = {
            position = 7
            icon = mission_unite_home_region
            required_missions = { vn_hab_conquer_krakow }
            provinces_to_highlight = {
                OR = {
                    area = radom_area
                    area = lublin_area
                    area = warsaw_area
                    area = nur_area
                }
                NOT = { country_or_non_sovereign_subject_holds = ROOT }
            }
            trigger = {
                radom_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                lublin_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                warsaw_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
                nur_area = {
                    type = all
                    country_or_non_sovereign_subject_holds = ROOT
                }
            }
            effect = {
                radom_area = {
                    add_province_modifier = {
                        name = hab_conquer_warsaw_mission
                        duration = 9125
                    }
                }
                lublin_area = {
                    add_province_modifier = {
                        name = hab_conquer_warsaw_mission
                        duration = 9125
                    }
                }
                warsaw_area = {
                    add_province_modifier = {
                        name = hab_conquer_warsaw_mission
                        duration = 9125
                    }
                }
                nur_area = {
                    add_province_modifier = {
                        name = hab_conquer_warsaw_mission
                        duration = 9125
                    }
                }
            }
        }
        vn_hab_rivalry_with_venice = {
            position = 8
            icon = mission_control_venice
            required_missions = { }
            trigger = {
                is_year = 1450
                custom_trigger_tooltip = {
                    tooltip = vn_hab_rivalry_with_venice.tt.1
                    calc_true_if = {
                        amount = 3
                        any_ally = {
                            capital_scope = {
                                superregion = italy_superregion
                            }
                            army_size = 10
                        }
                        any_subject_country = {
                            capital_scope = {
                                superregion = italy_superregion
                            }
                            army_size = 10
                        }
                    }
                }
            }
            effect = {
                add_mil_power = 100
                treviso_region = {
                    limit = {
                        NOT = { is_core = ROOT }
                        NOT = { is_permanent_claim = ROOT }
                    }
                    add_permanent_claim = ROOT
                }
            }
        }
        vn_hab_expand_navy = {
            position = 9
            icon = mission_rb_grow_the_channel
            required_missions = { vn_hab_rivalry_with_venice }
            trigger = {
                calc_true_if = {
                    amount = 2
                    num_of_light_ship = 10
                    num_of_galley = 10
                    num_of_transport = 10
                }
                num_of_heavy_ship = 3
            }
            effect = {
                add_mercantilism = 2
                add_country_modifier = {
                    name = hab_expand_navy_mission
                    duration = 9125
                }
            }
        }
        vn_hab_dominate_adriatic_trade = {
            icon = mission_rb_control_the_hansa
            required_missions = { vn_hab_expand_navy }
            provinces_to_highlight = {
                OR = {
                    province_id = 112
                    province_id = 137
                    province_id = 874
                }
                NOT = {
                    is_strongest_trade_power = ROOT
                }
            }
            trigger = {
                112 = {
                    is_strongest_trade_power = ROOT
                }
                137 = {
                    is_strongest_trade_power = ROOT
                }
                874 = {
                    is_strongest_trade_power = ROOT
                }
            }
            effect = {
                add_country_modifier = {
                    name = hab_dominate_adriatic_trade_mission
                    duration = 9125
                }
            }
        }
    }
}