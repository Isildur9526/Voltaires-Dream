namespace = native_americans

# 1 - 4 removed

# Counting Coup - retaining or rejecting traditions of proving courage
country_event = {
	id = native_americans.5
	title = "native_americans.5.t"
	desc = "native_americans.5.d"
	picture = DEBATE_REPUBLICAN_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		NOT = { has_country_flag = natives_discounting_coup }
		advisor = army_reformer
	}

	mean_time_to_happen = {
		months = 480
	}
	
	# Stop counting coup
	option = {
		name = "native_americans.5.a"
		add_mil_power = 100
		add_prestige = -20
		set_country_flag = natives_discounting_coup
	}

	# Continue counting coup
	option = {
		name = "native_americans.5.b"
		add_ruler_modifier = {
			name = "counting_coup"
		}
	}
}

# Appointing a War Chief - select mil-strong leader during times of war
country_event = {
	id = native_americans.6
	title = "native_americans.6.t"
	desc = "native_americans.6.d"
	picture = LAND_MILITARY_eventPicture
	
	trigger= {
		has_dlc = "Conquest of Paradise"
		government = native
		is_at_war = yes
		NOT = { has_country_flag = appointed_war_chief }
		army_tradition = 20
	}

	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.5
			has_ruler_modifier = "counting_coup"
		}
	}

	# Appoint a war chief
	option = {
		name = "native_americans.6.a"
		set_country_flag = appointed_war_chief
		define_ruler = {
			adm = 0
			dip = 1
			mil = 5
			fixed = yes
		}
	}

	# Retain peace chief
	option = {
		name = "native_americans.6.b"
		add_dip_power = 10
	}
}

# Appointing a Peace Chief - removing the War Chief from previous event on peace
country_event = {
	id = native_americans.7
	title = "native_americans.7.t"
	desc = "native_americans.7.d"
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	trigger = {
		has_dlc = "Conquest of Paradise"
		has_country_flag = appointed_war_chief
	}

	# Peace Chief appointed, random traits but decent adm/dip
	option = {
		name = "native_americans.7.a"
		define_ruler = {
			adm = 2
			dip = 2
		}
		clr_country_flag = appointed_war_chief
	}

	# War Chief remains in power, military coup
	option = {
		name = "native_americans.7.b"
		add_stability = -1
	}
}

# 8 - 13 removed

# Preparing for the Sun Dance - Great Plains nation prepares for the ceremonial dance
country_event = {
	id = native_americans.14
	title = "native_americans.14.t"
	desc = "native_americans.14.d"
	picture = PRAYING_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		is_at_war = no
		religion_group = pagan
		is_month = 3
		NOT = { is_month = 8 }
		NOT = { has_country_flag = preparing_sundance }
	}

	mean_time_to_happen = {
		months = 120
	}

	# Prepare for the Sun Dance, setting aside manpower
	option = {
		name = "native_americans.14.a"
		country_event = { id = native_americans.15 days = 60 tooltip = native_americans.14.a.tt }
		add_manpower = -3
		add_treasury = -20
		add_prestige = 5
		set_country_flag = preparing_sundance
	}

	# Skip the sundance this year, losing prestige
	option = {
		name = "native_americans.14.b"
		add_prestige = -5
	}
}

# The Sun Dance
country_event = {
	id = native_americans.15
	title = "native_americans.15.t"
	desc = "native_americans.15.d"
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	# The Sun Dance is performed, giving a stability boost
	option = {
		name = "native_americans.15.a"
		add_stability_or_adm_power = yes
		clr_country_flag = preparing_sundance
	}
}

# 16 - 19 removed

# Straying Son - band splits up, moving base tax
country_event = {
	id = native_americans.20
	title = "native_americans.20.t"
	desc = "native_americans.20.d"
	picture = LIBERUM_VETO_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		num_of_cities = 2
		any_owned_province = {
			base_tax = 2
		}
	}

	mean_time_to_happen = {
		months = 1200
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					base_tax = 2
				}
				set_province_flag = straying_son_origin
			}
			random_owned_province = {
				limit = {
					NOT = { has_province_flag = straying_son_origin }
				}
				set_province_flag = straying_son_target
			}
		}
	}

	# Force the son to stay - increases revoltrisk
	option = {
		name = "native_americans.20.a"
		random_owned_province = {
			limit = { has_province_flag = straying_son_origin }
			add_unrest = 2
		}
		hidden_effect = {
			every_owned_province = {
				clr_province_flag = straying_son_origin
				clr_province_flag = straying_son_target
			}
		}
	}

	# Allow the split - move basetax, give Decentralization modifier
	option = {
		name = "native_americans.20.b"
		add_country_modifier = {
			name = "decentralization_modifier"
			duration = 3650
		}
		random_owned_province = {
			limit = { has_province_flag = straying_son_origin }
			add_base_tax = -1
			hidden_effect = { clr_province_flag = straying_son_origin }
		}
		random_owned_province = {
			limit = { has_province_flag = straying_son_target }
			add_base_tax = 1
			hidden_effect = { clr_province_flag = straying_son_target }
		}
	}
}

# Large Band Split Up - takes one base tax from capital, adds one to two other provinces
country_event = {
	id = native_americans.21
	title = "native_americans.21.t"
	desc = "native_americans.21.d"
	picture = CULTURE_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		num_of_cities = 3
		capital_scope = {
			base_tax = 2
		}
	}

	mean_time_to_happen = {
		months = 1800
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_capital = no
				}
				set_province_flag = large_band_split_targets
			}
			random_owned_province = {
				limit = {
					is_capital = no
					NOT = { has_province_flag = large_band_split_targets }
				}
				set_province_flag = large_band_split_targets
			}
		}
	}

	# Allow the split, removing and adding base tax and dropping stability
	option = {
		name = "native_americans.21.a"
		add_stability = -1
		random_owned_province = {
			limit = { is_capital = yes }
			add_base_tax = -1
		}
		every_owned_province = {
			limit = { has_province_flag = large_band_split_targets }
			add_base_tax = 1
			hidden_effect = { clr_province_flag = large_band_split_targets }
		}
	}

	# Disallow the split, increased centralization
	option = {
		name = "native_americans.21.b"
		add_country_modifier = {
			name = "centralization_modifier"
			duration = 3650
		}
		hidden_effect = {
			every_owned_province = {
				limit = { has_province_flag = large_band_split_targets }
				clr_province_flag = large_band_split_targets
			}
		}
	}
}

# Hunters on the move - drops admin or forces player to buy a building
country_event = {
	id = native_americans.22
	title = "native_americans.22.t"
	desc = "native_americans.22.d"
	picture = FEAST_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		num_of_cities = 2
		any_owned_province = {
			OR = {
				trade_goods = fur
				trade_goods = venison
			}
		}
	}

	mean_time_to_happen = {
		months = 1200
	}

	# Allow the hunters to move, lose admin, add prestige
	option = {
		name = "native_americans.22.a"
		add_adm_power = -50
		add_prestige = 10
	}

	# Give them a field to become farmers
	option = {
		name = "native_americans.22.b"
		add_treasury = -10
		random_owned_province = {
			limit = {
				OR = {
					trade_goods = fur
					trade_goods = venison
				}
			}
			add_building = native_three_sisters_field
		}
	}
}

# 23 removed

# Moundbuilders
country_event = {
	id = native_americans.24
	title = "native_americans.24.t"
	desc = "native_americans.24.d"
	picture = GREAT_BUILDING_eventPicture

	trigger = {
		has_dlc = "Conquest of Paradise"
		government = native
		NOT = { has_country_flag = moundbuilders_completed }
		any_neighbor_country = {
			NOT = { government = native }
			NOT = { government = tribal }
		}
	}

	mean_time_to_happen = {
		months = 400
	}

	option = {
		name = "native_americans.24.a"
		add_treasury = -100
		add_manpower = -2
		add_prestige = 30
		set_country_flag = moundbuilders_completed
	}

	option = {
		name = "native_americans.24.b"
		add_prestige = -15
	}
}